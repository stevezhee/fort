;; types
Char = /char 8
Handle = /address (/unsigned 32)
RealWorld = /unsigned 1
String = /string

;; primitives
stdin: Handle
stdout: Handle
stderr: Handle

h-get-char: Handle -> Char
h-put: (a, Handle) -> ()

;; constants

a = #"a"
b: Char = #"b"
s: String = "hello, world"

;; functions

fst: (Char, Char) -> Char = \(x,_) => x
foo: Char -> Char = \_ => fst (#"z",#"z")
bar: Char -> Char = \_ => fst (a,b : Char)
qux: Char -> Char = \_ => fst (c,d)
  /where
    c = #"c"
    d: Char = #"d"
get-char: RealWorld -> Char = \_ => h-get-char stdin

put-char: Char -> () = h-put (,stdout)

put-string: String -> () = h-put (,stdout)

char-io-test: RealWorld -> () = \w => /do
  put-char (get-char w)
  put-char #"!"

hello-world: RealWorld -> () = \_ => /do
  put-string (s)
  put-string ("hello, world")
