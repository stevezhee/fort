;; types
Char = /char
Handle = /address (/unsigned 64)
String = /string

;; primitives
stdin: Handle = /extern "g_stdin"
stdout: Handle
stderr: Handle = /extern "g_stderr"

h-get-char: Handle -> Char = /extern "fgetc"

output: a -> ()

;; constants

a = #"a"
b: Char = #"b"
s: String = "hello, world"

;; functions

char-foo: Char -> Char = \_ => fst (#"z",#"a")
char-bar: Char -> Char = \_ => fst (a,b : Char)

get-char: () -> Char = \() => h-get-char stdin

char-io-test: () -> () = \w => /do
  output (get-char w)

hello-world: () -> () = \_ => /do
  output (s)
  output ("hi, again")

fst: (Char, Char) -> Char = \(x,_) => x

qux: Char -> Char = \_ => fst (c,d)
  /where
    c = #"c"
    d: Char = #"d"
